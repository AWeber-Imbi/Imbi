# 6. Use ulid for UUID keys

Date: 2021-01-23

## Status

Accepted

## Context

Projects and Project Fact Types use UUIDs for the primary keys in the table. This
for the same "names" to be used in different namespaces. The randomness of UUIDv4
causes poor performance for certain index types, when there is a large quantity of
rows in a table.

[ulid](https://github.com/ulid/spec) is a 128-bit, roughly-ordered, 
URL-safe UUID. Inspired by Twitter's Snowflake,  Instagram's ID and Firebase's 
PushID. It uses the first 48 bits of the "UUID" to represent milliseconds. The 
subsequent 80bits is a cryptographically generated random number (80 bits).

## Decision

Instead of using UUIDv4 for keys for Projects and Project Fact Types, use ULIDs
in all official client implementations.

## Consequences

Because the ID values are generated by clients, we can not guarantee API clients
will use ULIDs.
